# Lab Automation Visual Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     LAB AUTOMATION SYSTEM                           â”‚
â”‚                "Through alchemy, power manifests"                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EVERY 100 TICKS - AUTO PRODUCTION PLANNING                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    LabGateway.run()
         â”‚
         â”œâ”€ autoProduction enabled? â”€â”€â”€â”€â”€â”€â”
         â”‚                                 â”‚
         â”‚                          [YES]  â”‚  [NO]
         â”‚                                 â”‚   â”‚
         â”‚                                 â–¼   â””â”€â”€> Skip planning
         â”‚                      planAutoProduction()
         â”‚                                 â”‚
         â”‚                                 â–¼
         â”‚                   ReactionPlanner.planProduction()
         â”‚                                 â”‚
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚  Check all compounds    â”‚
         â”‚                    â”‚  - XUH2O: need 2500     â”‚
         â”‚                    â”‚  - XUHO2: need 4000     â”‚
         â”‚                    â”‚  - OH: need 8000        â”‚
         â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    â”‚  Calculate priorities   â”‚
         â”‚                    â”‚  - XUHO2: 90 Ã— 0.8 = 72 â”‚
         â”‚                    â”‚  - XUH2O: 100 Ã— 0.83 = 83â”‚
         â”‚                    â”‚  - OH: 30 Ã— 0.8 = 24    â”‚
         â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                 â”‚
         â”‚                                 â–¼
         â”‚                      [XUH2O, XUHO2, OH, ...]
         â”‚                                 â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    For each priority compound:
         â”‚
         â”œâ”€> getReactionChain(XUH2O)
         â”‚        â”‚
         â”‚        â”œâ”€> Ingredient 1: UH2O (compound!)
         â”‚        â”‚    â”‚
         â”‚        â”‚    â”œâ”€> getReactionChain(UH2O)
         â”‚        â”‚    â”‚    â”‚
         â”‚        â”‚    â”‚    â”œâ”€> Ingredient 1: UH (compound!)
         â”‚        â”‚    â”‚    â”‚    â”‚
         â”‚        â”‚    â”‚    â”‚    â””â”€> getReactionChain(UH)
         â”‚        â”‚    â”‚    â”‚         â”‚
         â”‚        â”‚    â”‚    â”‚         â””â”€> [U + H] â”€â”€> [UH]
         â”‚        â”‚    â”‚    â”‚
         â”‚        â”‚    â”‚    â””â”€> Ingredient 2: OH (compound!)
         â”‚        â”‚    â”‚         â”‚
         â”‚        â”‚    â”‚         â””â”€> getReactionChain(OH)
         â”‚        â”‚    â”‚              â”‚
         â”‚        â”‚    â”‚              â””â”€> [O + H] â”€â”€> [OH]
         â”‚        â”‚    â”‚
         â”‚        â”‚    â””â”€> Chain: [OH, UH, UH2O]
         â”‚        â”‚
         â”‚        â””â”€> Ingredient 2: X (base mineral)
         â”‚             â”‚
         â”‚             â””â”€> Full chain: [OH, UH, UH2O, XUH2O]
         â”‚
         â””â”€> queueReaction() for each step
              â”‚
              â”œâ”€> Queue OH (3000 units)
              â”œâ”€> Queue UH (3000 units)
              â”œâ”€> Queue UH2O (3000 units)
              â””â”€> Queue XUH2O (3000 units)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  EVERY TICK - EXECUTION                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    LabGateway.run()
         â”‚
         â””â”€> currentReaction?
              â”‚
              â”œâ”€[NO]â”€â”€> Pop next from queue â”€â”€> currentReaction
              â”‚
              â””â”€[YES]â”€> executeReaction()
                         â”‚
                         â”œâ”€> Check input labs
                         â”‚    â”‚
                         â”‚    â”œâ”€> Lab 1: Has O (oxygen)?
                         â”‚    â”‚    â””â”€> âœ“ 2500 units
                         â”‚    â”‚
                         â”‚    â””â”€> Lab 2: Has H (hydrogen)?
                         â”‚         â””â”€> âœ“ 3000 units
                         â”‚
                         â”œâ”€> Run reactions on all output labs
                         â”‚    â”‚
                         â”‚    â”œâ”€> Lab 3.runReaction(Lab1, Lab2) â”€â”€> OK
                         â”‚    â”œâ”€> Lab 4.runReaction(Lab1, Lab2) â”€â”€> OK
                         â”‚    â”œâ”€> Lab 5.runReaction(Lab1, Lab2) â”€â”€> OK
                         â”‚    â””â”€> Lab 6.runReaction(Lab1, Lab2) â”€â”€> COOLDOWN
                         â”‚
                         â””â”€> Check completion
                              â”‚
                              â”œâ”€> Produced: 850 OH
                              â”œâ”€> Target: 3000 OH
                              â””â”€> Continue...
                              
                              (Later)
                              â”‚
                              â”œâ”€> Produced: 3000 OH âœ“
                              â””â”€> Clear currentReaction
                                   â”‚
                                   â””â”€> Pop next reaction (UH)


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  INTEGRATION WITH OTHER SYSTEMS                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    HaulerArbiter                MarketManager              WarCouncil
         â”‚                            â”‚                          â”‚
         â”œâ”€> Fill input labs          â”œâ”€> Buy missing minerals  â”œâ”€> Request boosts
         â”‚    from storage            â”‚    (H, O, X, etc.)      â”‚    for squads
         â”‚                             â”‚                          â”‚
         â”œâ”€> Empty output labs        â””â”€> Sell excess           â””â”€> XUH2O for attack
         â”‚    to storage                   compounds                 XUHO2 for heal
         â”‚                                                            XKHO2 for ranged
         â””â”€> Transport between
              labs efficiently


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REACTION TIER PYRAMID                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                         TIER 4 (Catalyzed)
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ XUH2O, XUHO2, XKHO2  â”‚  Target: 3k each
                    â”‚ XLH2O, XLHO2, etc.   â”‚  Priority: 50-100
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   TIER 3 (Boosted)          â”‚
              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
              â”‚ UH2O, UHO2 â”‚           â”‚ KH2O, KHO2     â”‚  Target: 5k
              â”‚ LH2O, LHO2 â”‚           â”‚ ZH2O, ZHO2     â”‚  Priority: 36-45
              â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                    â”‚                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  TIER 2 (Advanced)    â”‚                           â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚ UH, UO  â”‚            â”‚ KH, KO    â”‚            â”‚ LH, LO       â”‚  Target: 2k
    â”‚ ZH, ZO  â”‚            â”‚ GH, GO    â”‚            â”‚              â”‚  Priority: 11-20
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   TIER 1 (Base)         â”‚
                    â”‚   OH, G, ZK, UL         â”‚  Target: 10k
                    â”‚                         â”‚  Priority: 4-30
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   BASE MINERALS         â”‚
                    â”‚   H, O, U, K, L, Z, X   â”‚  From mining/market
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CONSOLE COMMANDS                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    Game.kha.labs()
         â”‚
         â””â”€â”€> âš—ï¸ LAB STATUS
              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              ðŸ“ W1N1
                Labs: 6 (2 input, 4 output)
                Auto-production: âœ… Enabled
                Current: 3000x OH
                Queue: 3 reactions
                  1. 3000x UH
                  2. 3000x UH2O
                  3. 3000x XUH2O
                Top compounds:
                  XUH2O: 1,250
                  XUHO2: 2,800
                  OH: 8,500
              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    Game.kha.produce('XUH2O', 3000, 'W1N1')
         â”‚
         â””â”€â”€> âš—ï¸ Queued reaction: 3000x OH
              âš—ï¸ Queued reaction: 3000x UH
              âš—ï¸ Queued reaction: 3000x UH2O
              âš—ï¸ Queued reaction: 3000x XUH2O

    Game.kha.autoLabs('W1N1', true)
         â”‚
         â””â”€â”€> âœ… Enabled auto-production in W1N1
```
